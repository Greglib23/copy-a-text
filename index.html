<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Copiar al Portapapeles</title>
</head>

<body>
    <div class="container">
        <div class="texts-container">
            <h2 id="textoACopiar"></h2>
            <span id="copiado">Copiado!</span>
            <div id="error-message">
                <div class="cross">
                    X
                </div>
                <span id="error">Error</span>
            </div>

        </div>

        <button id="botonCopiar">Toca aqui para copiar el texto</button>

        <script>
            // Obtener el texto de la URL
            const params = new URLSearchParams(window.location.search);
            const texto = params.get('texto');

            // Mostrar el texto en la pÃ¡gina
            const textoACopiar = document.getElementById('textoACopiar');
            const textoCopiado = document.getElementById('copiado');
            const textoError = document.getElementById('error-message');
            textoACopiar.textContent = texto;

            // Evento para copiar el texto al portapapeles
            document.getElementById('botonCopiar').addEventListener('click', () => {
                navigator.clipboard.writeText(texto)
                    .then(() => {
                        //alert('Texto copiado al portapapeles');
                        if (!textoCopiado.classList.contains("active")) {
                            textoCopiado.classList.toggle('active')
                            setTimeout(() => {
                                textoCopiado.classList.toggle('active')
                            }, 1000)
                        }


                    })
                    .catch(err => {
                        //console.error('Error al copiar el texto: ', err);
                        if (!textoError.classList.contains("active")) {
                            textoError.classList.toggle('active')
                            setTimeout(() => {
                                textoError.classList.toggle('active')
                            }, 1000)
                        }
                    });
            });
        </script>
    </div>
</body>

</html>